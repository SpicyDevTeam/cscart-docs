****************************
"Расширенный импорт товаров"
****************************

Модуль **Расширенный импорт товаров** сокращает время, которое администраторы тратят на импорт товаров. Вы создаёте :doc:`пресеты импорта </user_guide/manage_products/import_export/advanced_product_import>` (наборы правил, по которым обрабатывается импортируемый файл), сохраняете их, и после этого вы можете импортировать с их помощью похожие файлы.

.. fancybox:: /user_guide/manage_products/import_export/img/advanced_import_field_mapping.png
    :alt: Функциональность модуля "Расширенный импорт товаров".

Пресеты позволяют решить следующие проблемы старого импорта:

-----

**Проблема:** Названия столбцов в файлах от поставщиков могли отличаться от тех, которые требует CS-Cart. Нужно было переименовывать эти столбцы в каждом файле.

**Решение:** Расширенный импорт позволяет сопоставлять столбцы из импортируемого файла и свойства товара в CS-Cart. Поэтому переименовывать столбцы в каждом новом файле от одного и того же поставщика не придётся.

-----

**Проблема:** Иногда в импортируемый файл нужно вносить изменения. Например, цена товаров у вас в магазине выше, чем у поставщика, и вам нужно увеличивать цены в импортируемом файле на определённый процент. Раньше для этого приходилось редактировать импортируемый файл.

**Решение:** Расширенный импорт позволяет использовать *модификаторы* — функции, которые изменяют импортированные данные. С помощью модификаторов можно менять цены, и не только.

-----

**Проблема:** Некоторые поставщики предоставляют файлы в формате XML, а не CSV. Ранее CS-Cart поддерживал только файлы CSV.

**Решение:** Расширенный импорт поддерживает не только CSV, но и XML-файлы.

-----

**Проблема:** У CSV-файлов от поставщиков могло быть много столбцов с одинаковыми названиями. В этом случае данные из тех столбцов импортировались неправильно, и файл приходилось редактировать.

**Решение:** Расширенный импорт позволяет назначить соответствие со свойством товара в CS-Cart для каждого из повторяющихся столбцов (или узлов XML-файла). Например, так можно :ref:`импортировать несколько изображений вместе с товаром <advanced-image-import>`.

-----

**Проблема:** Поставщик мог регулярно присылать вам файл для импорта, но нельзя было автоматически запускать импорт через определённые промежутки времени.

**Решение:** После того, как вы создадите пресет для импорта, вы сможете автоматически и регулярно проводить импорт с помощью `cron <https://ru.wikipedia.org/wiki/Cron>`_. Команда для запуска импорта появится на вкладке **Файл** на странице редактирования пресета.

-----

**Проблема:** С появлением пресетов продавцов команда для CRON будет отличаться в зависимости от того, где загружен импортируемый файл или ссылка: в панели администратора или продавца.

**Решение:** Если файл или ссылка загружены в пресет от имени администратора маркетплейса, то из команды нужно убрать параметр **--switch_company_id=1**. Этот параметр нужен, если ссылка добавлена в пресет на стороне панели продавца.

Команда без него будет выглядеть так::

    php /path/to/cart/admin.php -p --dispatch=advanced_import.import.import --preset_id=1

-----

================
Связанные статьи
================

* :doc:`/user_guide/manage_products/import_export/advanced_product_import`
