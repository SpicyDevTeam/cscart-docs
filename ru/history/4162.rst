******
4.16.2
******

==================================
Новая функциональность и улучшения
==================================

[+] Мобильное приложение: Добавлена возможность отображать товарные блоки на странице товара в мобильном приложении.

[+] Multi-Vendor Ultimate: API: Пользователи: Витрины: Возможности администратора при работе с API теперь учитывают, на какую витрину назначен этот администратор.

=========================================
Изменения в существующей функциональности
=========================================

[*] Модули: Обратный звонок: Купить в один клик: Заказ создается даже если покупатель не указал email.

[*] Модули: Яндекс.Доставка [Старый личный кабинет]: Модуль удален в связи с закрытием сервиса.

[*] Рефакторинг: JS: Был сделан рефакторинг удаления всплывающих окон.

[*] API: Управление заказами: Отгрузки: Добавлено дополнительное сообщение о неверных параметрах при создания отгрузки.

[*] Multi-Vendor Ultimate: Витрины: Email-уведомления о смене статуса продавца, тарифных планах, долгах и премодерации товаров теперь приходят с витрины, на которой продавец регистрировался.

==================
Исправления ошибок
==================

[!] Дизайн: UI / UX: Категории: Дерево категорий нельзя было свернуть. Исправлено.

[!] Дизайн: Опции: Подсказка: На мобильных устройствах не работала подсказка у опций. Исправлено.

[!] Дизайн: При выборе вариаций страница товара прокручивалась вверх на мобильных устройствах. Исправлено.

[!] Дизайн: Промо-текст: В промо-тексте не отображались маркеры списков на детальной странице товара. Исправлено.

[!] Заказы: Редактирование заказа: Одновременное редактирование двух или более заказов в одном браузере могло испортить один из них. Исправлено.

[!] Категории: Изменение статуса категории не влияло на отображение категории на витрине в блоке меню до очистки кэша. Исправлено.

[!] Мобильное приложение: В браузере Safari iOS не отображался баннер для скачивания приложения. Исправлено.

[!] Мобильное приложение: Если у продавца отсутствовал способ доставки, заказ не создавался. Исправлено.

[!] Мобильное приложение: Предупреждение о том, что поле обязательное, всегда отображалось на английском языке. Исправлено.

[!] Мобильное приложение: Промо-акции: Не применялись промо-акции. Исправлено.

[!] Модули: CommerceML: Во время импорта, если название изображения было одинаковым у нескольких вариаций одного товара, оно добавлялось только к одной вариации. Исправлено.

[!] Модули: PayPal Checkout: Размещение заказа в обход пользовательских кнопок PayPal приводило к ошибке. Исправлено.

[!] Модули: SEO: Невозможно было удалить ноль из SEO-имен, начинающихся с нуля. Исправлено.

[!] Модули: Бонусные баллы: Boxberry: Отгрузки: При создании отгрузки с наложенным платежом, стоимость оставалась без учета использованных бонусных баллов. Исправлено.

[!] Модули: Вариации товаров: Общие товары для продавцов: При добавлении общих товаров в редактируемый заказ могли исчезать товары, с которыми заказ был изначально оформлен. Исправлено.

[!] Модули: Комплекты товаров: При попытке добавить в комплект товар, которые уже есть в комплекте, возникала ошибка. Исправлено.

[!] Модули: Отзывы о товарах: После редактирования отзыва администратором изменялся автор ответа на отзыв. Исправлено.

[!] Модули: Отзывы о товарах: При включенном модуле нерабочая секция "Отзывы и комментарии" из модуля "Отзывы и комментарии" всё ещё могла отображаться в настройках товара. Исправлено.

[!] Модули: Расширенный импорт товаров: Вариации товаров: При импорте вариаций без указания главной вариации, главной могла стать вариация, которой нет в наличии. Исправлено.

[!] Опции: Недоступные комбинации: В недоступных комбинациях варианты обязательных опций отображались некорректно. Исправлено.

[!] Отчеты о продажах: На некоторых масштабах не подгружались товары в отчетах. Исправлено.

[!] Оформление заказа: Поля профиля: В некоторых случаях в адрес плательщика (раздел "Я оформляю заказ как юридическое лицо") записывались данные из адреса доставки. Исправлено.

[!] Оформление заказа: Способы доставки: Промо-акции и скидки: После применения промо-акции в некоторых случаях рассчитывалась некорректная стоимость доставки. Исправлено.

[!] Оформление заказа: После изменения "Области" или "Города" на странице оформления заказа фокус мог перейти на другое поле. Исправлено.

[!] Оформление заказа: Языки: Языковая переменная no_shipping_required не переводилась на другие языки на странице оформления заказа. Исправлено.

[!] Панель администратора: Панель инструментов: График продаж не загружался на некоторых языках. Исправлено.

[!] Панель администратора: Панель инструментов: Если у администратора были ограниченные привилегии, то блоки с аналитикой на главной странице панели администратора могли отображаться некорректно. Исправлено.

[!] Панель адмнистратора: Меню "Быстрый старт": Иконка и название языка пропадали после смены языка. Исправлено.

[!] Поля профиля: Телефон: После смены настройки "Допустимые номера телефонов", невалидные телефоны могли отображаться некорректно. Исправлено.

[!] Редактор файлов: Файловый менеджер в некоторых случаях мог быть не переведен. Исправлено.

[!] Соответствие GDPR (Общему регламенту по защите данных в ЕС): Подсказка могла не закрываться на мобильных устройствах. Исправлено.

[!] Экспорт/Импорт: Кнопки "Импорт" и "Экспорт" иногда могли не отображаться. Исправлено.

[!] Экспорт/Импорт: Товары: Характеристики: В некоторых случаях при импорте товаров характеристики могли дублироваться. Исправлено.

[!] Экспорт/Импорт: Экспорт товаров: Экспорт товаров с более чем 30 языками вызывал ошибку. Исправлено.

[!] E-mail: Уведомления: Таблицы в сообщении тяжело читались на iOS в приложении Почта. Исправлено.

[!] JS: WYSIWYG editor: Вставка картинок не работала в редакторе "TinyMCE". Исправлено.

[!] Multi-Vendor Plus: Модули: Оплата напрямую продавцам: Не отображалась кнопка "Корзина" при добавлении товара в корзину. Исправлено.

[!] Multi-Vendor Plus: Модули: Оплата напрямую продавцам: Стоимость доставки: Все страны, независимо от их статуса, были доступны для выбора. Исправлено.

[!] Multi-Vendor Ultimate: Модули: SEO: Витрины: Установка различных языков по умолчанию для витрин могла привести к циклическому редиректу на некоторых страницах. Исправлено.

[!] Multi-Vendor Ultimate: Модули: Общие товары для продавцов: На страницах категорий для общих товаров могла отображаться цена товарного предложения, недоступного на витрине. Исправлено.

[!] Multi-Vendor: Категории: Продавцы могли назначать товарам выключенные категории. Исправлено.

[!] Multi-Vendor: Модули: PayPal Commerce Platform: Способы оплаты: Даже если в настройках способа оплаты не стояла галочка "Отложить перевод средств", оплата продавцам всё равно оставалась отложенной. Исправлено.

[!] Multi-Vendor: Модули: Премодерация данных продавцов: Экспорт/Импорт: В процессе импорта товаров новые товары отображались на витрине вне зависимости от настроек премодерации данных продавцов. Исправлено.

[!] Multi-Vendor: Модули: Тарифные планы для продавцов: Описание плана могло отображаться некорректно на витрине и в панели продавца. Исправлено.

[!] Multi-Vendor: Модули: Тарифные планы для продавцов: Почтовые уведомления: При регистрации нового продавца использовался некорректный шаблон о присвоении тарифного плана. Исправлено.

[!] Multi-Vendor: Панель продавца: Для некоторых языков отсутствовали демо-данные в блоках онбординга. Исправлено.

[!] Ultimate: REST API: Заказы: При создании заказа не учитывалась оптовая скидка при наличии нескольких витрин. Исправлено.

[!] Ultimate: Модули: Склады: Если заказ был создан через панель администратора, и в качестве способа доставки был использован самовывоз из магазина, товары могли быть списаны некорректно. Исправлено.

[!] Ultimate: Модули: Склады: Отображалось уведомление об отсутствии товара в наличии в текущем регионе, даже когда был доступен предзаказ. Исправлено.